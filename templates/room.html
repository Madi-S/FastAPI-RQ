{% extends 'base.html' %}

{% block title %}
{{ room_id }}
{% endblock %}

{% block content_title %}
{{ room_id }}
{% endblock %}

{% block content %}
<div class="messages">
    <h1>Welcome to {{ room_id }}</h1>
    <ul id="message-collection" class="collection with-header">
        <li class="collection-header">
            <h4>Last messages:</h4>
        </li>
        {% for message in messages %}
        <li class="collection-item">
            <div><b>{{ message.author }}</b>: {{ message.text }}
                <a class="secondary-content"><i class="material-icons">send</i></a>
            </div>
        </li>

        {% endfor %}
    </ul>
</div>
<div class="message-input">
    <div class="row">
        <form class="col s12">
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">mode_edit</i>
                    <textarea id="message-input" class="materialize-textarea"></textarea>
                    <label for="message">Message</label>
                </div>
            </div>
            <a id="message-submit" class="waves-effect waves-light btn"><i class="material-icons right">send</i>send</a>
        </form>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script>
    const roomId = "{{ room_id }}"
</script>
<script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
<script src="{{ url_for('static', path='/chat.js') }}"></script>
{% endblock %}